webpackJsonp([1],{"2LLG":function(t,e){},"3ntp":function(t,e){},"6U3L":function(t,e,i){"use strict";function s(t){i("7ILb")}var a=i("TtmE"),n=i("rA5e"),o=i("XvEg"),r=i("UM93"),c={components:{VDialog:a.a},props:{actid:{type:String,required:!0}},data:function(){return{editState:{nameState:!0},spreadWayTable:[]}},methods:{close:function(){this.$emit("close")},publish:function(){var t=this;o.a.publish({data:{id:this.actid}}).then(function(e){e.suc&&(Object(r.Message)({type:"success",message:"发布成功"}),t.$router.push({path:"/nav-my"}))})}},mounted:function(){var t=this;console.log(this.actid),n.a.query({data:{activityId:this.actid}}).then(function(e){e.suc&&200===e.code&&(t.spreadWayTable=e.rs,t.spreadWayTable.forEach(function(t){t.channelID=t.id})),console.log(e)})}},l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{title:"渠道管理"},on:{close:t.close}},[i("div",{staticClass:"sources-wrap"},[i("div",{staticClass:"sources-manage"},[i("div",{staticClass:"label"},[t._v("哪个渠道客户/流量最多？设置不同渠道分享链接你就知道")]),t._v(" "),i("div",{staticClass:"spreadWay"},[i("div",{staticClass:"default"},[i("div",[t._v("默认渠道分享：")]),t._v(" "),i("div",{staticClass:"share-code"},[i("img",{attrs:{src:"/static/imgs/index/wechat-code.png",alt:""}}),t._v(" "),i("div",{staticClass:"share-code_label"},[t._v("扫一扫分享到微信\n              "),i("i",{staticClass:"el-icon-download"})])]),t._v(" "),i("div",{staticClass:"link-copy-wrap"},[i("el-input",{staticClass:"link-copy-input",attrs:{placeholder:"请输入内容",value:"http://baidu.com"}},[i("template",{slot:"append"},[t._v("复制链接")])],2)],1),t._v(" "),i("div",{staticClass:"preview-share_describe"},[t._v("您可以将活动链接复制到您的公众号菜单，或自定义回复中")])]),t._v(" "),i("div",{staticClass:"other"},[i("div",{staticStyle:{"font-size":"16px",color:"#5A5A5A"}},[t._v("其他渠道分享：")]),t._v(" "),i("div",{staticClass:"other-describe"},[i("span",{staticClass:"other-describe_text"},[t._v("您可将连接（或二维码）放置在微信公众号、或者户外广告等不同渠道，供用户访问。结果统计中可区分用户来自哪个渠道")]),t._v(" "),i("el-button",[i("i",{staticClass:"el-icon-plus"}),t._v("添加渠道")])],1),t._v(" "),i("div",{staticClass:"spread-way-table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.spreadWayTable,border:""}},[i("el-table-column",{attrs:{label:"渠道名称",prop:"name",width:"230",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"edit-name"},[i("el-input",{class:{editState:0==t.editState.nameState},attrs:{placeholder:t.editState.nameState?"未填写":"最多20字"},model:{value:e.row.name,callback:function(i){t.$set(e.row,"name",i)},expression:"scope.row.name"}}),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.editState.nameState,expression:"editState.nameState"}],attrs:{type:"text"},on:{click:function(e){e.preventDefault(),t.editState.nameState=!1}}},[t._v("修改")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.editState.nameState,expression:"!editState.nameState"}],attrs:{size:"mini"},on:{click:function(e){return e.preventDefault(),t.editChannel(e)}}},[t._v("保存")])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"链接",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",[i("span",[t._v(t._s(e.row.link))]),t._v(" "),i("el-button",{attrs:{type:"text"}},[t._v("复制")])],1)]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"二维码",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"spread-code"},[i("img",{attrs:{src:e.row.code,alt:""}}),t._v(" "),i("i",{staticClass:"el-icon-download"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"}},[t._v("删除")])]}}])})],1)],1)])]),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-button",{on:{click:t.publish}},[t._v("确定发布")]),t._v(" "),i("el-button",{on:{click:t.close}},[t._v("再看看")])],1)])])])},u=[],v={render:l,staticRenderFns:u},d=v,p=i("Z0/y"),m=s,h=p(c,d,!1,m,"data-v-1614a86a",null);e.a=h.exports},"7ILb":function(t,e){},D9hl:function(t,e){},FHze:function(t,e){},IFOl:function(t,e,i){"use strict";function s(t){i("qIk4"),i("dMbk"),i("2LLG")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("3cXf"),n=i.n(a),o=i("n95b"),r=i("XvEg"),c=i("sZ/g"),l=i("UM93"),u=(i("lMgl"),i("D9hl"),i("3ntp"),i("6U3L")),v={components:{DialogSources:u.a},data:function(){return{userActivityId:0,editorType:!1,phoneMain:null,sourcesShow:!1,preview:{type:1,content:1},mainImgType:!0,activityImgShow:1,limitShopCount:!0,scrollT:0,activityNameListShow:!1,content:"",surplusDate:{},elGoodsDesciption:null,elindustryDesc:null,elSurprised:null,activityNameList:{index:0,arr:[]},editorOption:{modules:{toolbar:[["bold","blockquote","italic","underline","strike","image"],[{size:["small",!1,"large","huge"]}],[{list:"ordered"},{list:"bullet"}]]}},form:{id:null,title:"",status:0,activityName:"",mainImg:"",activityTips:"",imgList:[1,2,3,4,5],skilShow:!0,beginTime:"",endTime:"",smsNotify:"",goodsCount:"",description:"",surprise:"",awardWays:"",share:"",musicUrl:"",rule:"",isPlay:""},imgContent:{index:0,arr:[1,2,3,4]},musicFlag:!1,musicName:"",music:new Audio,activityFormList:[{id:1,isNeed:!0,name:"姓名",uaid:100038},{id:2,isNeed:!0,name:"手机号",uaid:100038}],userDefinedList:[],industry:{industryLogo:"",industryName:"",industryPhone:"",industryAddress:"",industryProvince:"",industryCity:"",industryArea:"",industryStreet:"",industryDesc:"",industryUrl:""},activityHaggle:{id:"",limitPerson:"",status:"",uaid:"",formalPrice:"",afterPrice:"",reHaggleHour:""},activityShopList:[],shareSet:{shareDesc:"",shareTitle:"",isShowShareName:"",isShowShareTimes:"",thumbnailUrl:"",shareTitleList:[]},params:null,flag:!1}},methods:{editorShow:function(t){var e=document.getElementById("editor_wrap");t?(e.scrollTop=1500,this.editorType=!0):(e.scrollTop=0,this.editorType=!1)},actNameChange:function(t,e){for(var i=event.currentTarget.parentNode.childNodes,s=0;s<i.length;s++)"#text"===i[s].nodeName||i[s].classList.remove("actName");this.activityNameList.index=e,t.currentTarget.classList.add("actName")},hideActNameList:function(t){t&&(this.form.activityName=this.activityNameList.arr[this.activityNameList.index]),this.activityNameListShow=!1},mainImgChange:function(t){this.mainImgType=!1,this.form.mainImg=t},phoneJump:function(t){1===t?(this.preview.type=1,this.preview.content=1,this.phoneMain.scrollTop=0):2===t&&(this.preview.type=1,this.preview.content=1,this.phoneMain.scrollTop=570)},closeSources:function(){this.sourcesShow=!1},onActDescribeChange:function(t){var e=(t.quill,t.html);t.text;this.content=e,this.elGoodsDesciption.innerHTML=e},onSurprisedChange:function(t){var e=(t.quill,t.html);t.text;this.elSurprised.innerHTML=e},imgToggle:function(t){t?(this.imgContent.index+4<this.form.imgList.length&&this.imgContent.index++,this.imgContent.arr=this.form.imgList.slice(this.imgContent.index,this.imgContent.index+4)):(this.imgContent.index-1>=0&&this.imgContent.index--,this.imgContent.arr=this.form.imgList.slice(this.imgContent.index,this.imgContent.index+4)),console.log(this.imgContent.index)},musicPlay:function(t){var e=t.target||t.srcElement;this.musicFlag&&(this.music.paused?(this.music.play(),e.src="static/imgs/manage/editor/pause.png"):(this.music.pause(),e.src="static/imgs/manage/editor/play.png")),console.log(this.music.src)},imgUpload:function(t,e){var i=this,s=event.target||event.srcElement,a=s.files[0],n=new FormData;n.append("imgType",e),n.append("file",a),console.log({imgType:a.type,file:a});var o={data:n,methods:"post",ContentType:"multipart/form-data"};c.a.imgUpload(o).then(function(t){console.log(t),t.suc?(console.log(t.rs),i.form.imgList.unshift(t.rs)):console.log(t.msg)})},musicUpload:function(t){var e=this,i=t.target||t.srcElement,s=i.files[0],a=URL.createObjectURL(s);this.music.src=a,this.musicName=s.name;var n=new FormData;n.append("fileType","activity_music"),n.append("file",s),console.log(s);var o={data:n,methods:"post",ContentType:"multipart/form-data"};c.a.musicUpload(o).then(function(t){t.suc?(e.music.src=t.rs,e.form.musicUrl=t.rs):console.log(t.suc)})},dateCalculate:function(){var t=o.a.DateCalculate(this.form.beginTime,this.form.endTime);this.surplusDate=t},sponsorChange:function(t){this.elindustryDesc.innerHTML=t},forIn:function(t,e){if(Array.isArray(e))e.forEach(function(e){t.push(e)});else for(var i in e)t[i]=e[i]},checkFlag:function(t){""!==t&&t||(this.flag=!1)},checkMessage:function(){var t=this;this.flag=!0;var e={},i={},s=[],a=[];this.userDefinedList.forEach(function(e){t.activityFormList.push(e)}),this.userDefinedList=[],this.forIn(e,this.form),this.forIn(e,this.industry),this.forIn(e,this.shareSet),this.forIn(i,this.activityHaggle),this.forIn(s,this.activityFormList),this.forIn(a,this.activityShopList),console.log(s),this.checkFlag(e.activityName),this.checkFlag(e.beginTime),this.checkFlag(e.endTime),this.checkFlag(e.goodsCount),this.checkFlag(i.formalPrice),this.checkFlag(i.afterPrice),this.checkFlag(e.description),this.checkFlag(e.industryLogo),this.checkFlag(e.industryName),this.checkFlag(e.industryPhone),this.checkFlag(e.industryDesc),console.log(e),this.params={activityJson:n()(e),haggleJson:n()(i),formJson:n()(s),shopJson:n()(a),operation:1},console.log(this.params)},save:function(){var t=this;this.checkMessage(),r.a.save({data:this.params,methods:"post"}).then(function(e){console.log(e),e.suc&&(Object(l.Message)({type:"success",message:"保存成功"}),t.form.id=e.rs.activityId,t.activityFormList=e.rs.activityFormList,t.activityShopList=e.rs.activityShopList,t.activityHaggle.id=e.rs.haggleId,t.userActivityId=e.rs.activityId,e.rs.activityId!==t.$route.params.id&&t.$router.push({name:"collect",params:{id:e.rs.activityId}}))})},publish:function(){var t=this;this.checkMessage(),this.params.operation=2,this.flag?r.a.save({data:this.params,methods:"post",ContentType:"application/json"}).then(function(e){console.log(e),e.suc&&(t.form.status=1,e.rs.isShowChannel&&(t.sourcesShow=!0))}):Object(l.Message)({type:"success",message:"活动信息未填完整"})},imgClick:function(){console.log("点击了")},init:function(){var t=this;this.music.oncanplay=function(){t.musicFlag=!0,t.music.volume=.4},this.elGoodsDesciption=document.getElementById("goodsDesciption"),this.elindustryDesc=document.getElementById("industryDesc"),this.elSurprised=document.getElementById("elSurprised"),this.phoneMain=document.getElementById("phone-content");var e=document.getElementById("editor_wrap");e.addEventListener("scroll",function(){e.scrollTop>=220?t.scrollT="top:"+(e.scrollTop-220+90)+"px":t.scrollT="top:90px"},!1),this.phoneMain.addEventListener("scroll",function(){console.log(t.phoneMain.scrollTop)})}},computed:{editor:function(){return this.$refs.newEditor.quill}},mounted:function(){var t=this;this.init();var e=this.$route.params.id;console.log(e),this.userActivityId=e,r.a.haggle({data:{userActivityId:e}}).then(function(e){if(e.suc){console.log(e.rs);for(var i in t.form)t.form[i]=e.rs[i]?e.rs[i]:t.form[i];if(t.form.imgList=JSON.parse(t.form.imgList),t.activityNameList.arr=JSON.parse(e.rs.activityNameList)||t.activityNameList.arr,t.activityFormList=e.rs.activityFormList,e.rs.activityHaggle)for(var s in t.activityHaggle)t.activityHaggle[s]=e.rs.activityHaggle[s]?e.rs.activityHaggle[s]:"";console.log(t.activityHaggle),-1===e.rs.goodsCount&&(t.limitShopCount=!1),t.music.src=t.form.musicUrl,t.imgContent.arr=t.form.imgList.slice(0,4),console.log(t.form),e.rs.activityShopList&&(t.activityShopList=e.rs.activityShopList);for(var a in t.industry)t.industry[a]=e.rs[a];for(var n in t.shareSet)t.shareSet[n]=e.rs[n]}}).catch(function(t){})},beforeDestroy:function(){this.music.pause(),this.music=null}},d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"editor_wrap"}},[i("div",{staticClass:"main"},[i("div",{staticClass:"title"},[i("div",{staticClass:"title-text"},[t._v(t._s(t.form.title))]),t._v(" "),i("div",{staticClass:"title-switch"},[i("span",{staticClass:"font-small"},[t._v("显示技术支持")]),t._v(" "),i("el-switch",{attrs:{"active-color":"#FC4A46","inactive-color":"#E6E6E6"},model:{value:t.form.skilShow,callback:function(e){t.$set(t.form,"skilShow",e)},expression:"form.skilShow"}})],1)]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"preview",style:t.scrollT},[i("div",{staticClass:"phone-top"}),t._v(" "),i("div",{staticClass:"phone-main"},[i("div",{staticClass:"phone-head"},[i("div",{staticClass:"phone-show"}),t._v(" "),i("div",{staticClass:"phone-title"},[i("p",[t._v(t._s(t.form.activityName))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.preview.content,expression:"preview.content===1"}],staticClass:"phone-content",attrs:{id:"phone-content"}},[i("div",{staticClass:"phone-t1"},[t._v("98人查看 88人报名 11人分享")]),t._v(" "),i("div",{staticClass:"phone-mainImg"},[t.mainImgType?i("img",{attrs:{src:"static/imgs/manage/editor/mainImg1.png"}}):i("img",{attrs:{src:t.form.mainImg}})]),t._v(" "),i("div",{staticClass:"haggle"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.preview.type&&1===t.preview.content,expression:"preview.type===1 && preview.content===1"}]},[i("p",{staticClass:"activityName"},[t._v(t._s(t.form.activityName))]),t._v(" "),i("div",{staticClass:"t2"},[i("div",{staticClass:"t2-content"},[i("p",[t._v("砍价目标：\n                      "),i("span",[t._v(t._s(t.activityHaggle.formalPrice))]),t._v("元")]),t._v(" "),i("p",[t._v("商品原价：\n                      "),i("span",[t._v(t._s(t.activityHaggle.afterPrice))]),t._v("元")]),t._v(" "),t._m(0)]),t._v(" "),i("img",{attrs:{src:"static/imgs/manage/editor/t2.png"}})]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"t4 mar-t-15"},[i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.day/10|0||0))]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.day%10||0))]),t._v(" "),i("span",{staticClass:"t4-tt"},[t._v("天")]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.hours/10|0||0))]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.hours%10||0))]),t._v(" "),i("span",{staticClass:"t4-tt"},[t._v("时")]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.minutes/10|0||0))]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.minutes%10||0))]),t._v(" "),i("span",{staticClass:"t4-tt"},[t._v("分")]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.t/10|0||0))]),t._v(" "),i("span",{staticClass:"t4-t"},[t._v(t._s(t.surplusDate.t%10||0))]),t._v(" "),i("span",{staticClass:"t4-tt"},[t._v("秒")])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"haggle-title"},[t._v("\n                  活动描述\n                ")]),t._v(" "),i("div",{staticClass:"haggle-box",attrs:{id:"goodsDesciption"}},[t._v(t._s(t.form.description))]),t._v(" "),i("div",{staticClass:"haggle-title"},[t._v("\n                  更多惊喜\n                ")]),t._v(" "),i("div",{staticClass:"haggle-box",attrs:{id:"elSurprised"}},[t._v(t._s(t.form.surprise))]),t._v(" "),i("div",{staticClass:"haggle-title"},[t._v("\n                  活动规则\n                ")]),t._v(" "),i("div",{staticClass:"haggle-box"},[t._v(t._s(t.form.rule))]),t._v(" "),i("div",{staticClass:"haggle-title"},[t._v("\n                  活动主办方\n                ")]),t._v(" "),i("div",{staticClass:"haggle-box"},[i("div",{attrs:{id:"industryDesc"}}),t._v(" "),i("div",{staticClass:"dashed",staticStyle:{"border-color":"#C3C3C3"}}),t._v(" "),i("div",{staticClass:"industry-title"},[i("img",{attrs:{src:t.industry.industryLogo}}),t._v(" "),i("p",{staticClass:"mar-t-15 t-center"},[t._v(t._s(t.industry.industryName))])]),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[i("div",[i("p",[t._v("一键拨号：")]),t._v(" "),i("div",{staticClass:"haggle-button sponsor-phone"},[i("i",{staticClass:"el-icon-phone icon icon-left",staticStyle:{position:"absolute",left:"18px"}}),t._v("\n                        "+t._s(t.industry.industryPhone))]),t._v(" "),i("p",{staticClass:"font-small"},[t._v("\n                        "+t._s(t.industry.industryProvince)+t._s(t.industry.industryCity)+t._s(t.industry.industryArea)+t._s(t.industry.industryStreet)+"\n                      ")])]),t._v(" "),i("div",[i("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:t.industry.industryUrl}})])])]),t._v(" "),i("div",{staticStyle:{height:"2px",background:"#ffdde2"}}),t._v(" "),t._l(t.activityShopList,function(e,s){return i("div",{staticClass:"sponsor-shop"},[t._m(4,!0),t._v(" "),i("div",{staticClass:"sponsor-shop-content"},[i("p",[t._v(t._s(e.shopName))]),t._v(" "),i("p",{staticClass:"font-small"},[t._v(t._s(e.shopAddress))]),t._v(" "),i("p",{staticClass:"font-small"},[t._v(t._s(e.contacts)+" "+t._s(e.shopPhone)+" ")])]),t._v(" "),i("div",{staticClass:"sponsor-do-phone"},[t._v("\n                    一键拨号\n                  ")]),t._v(" "),s!=t.activityShopList.length-1?i("div",{staticClass:"dashed",staticStyle:{"border-color":"#C3C3C3",width:"100%",margin:"20px 0 0 0"}}):t._e()])})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.preview.type&&1===t.preview.content,expression:"preview.type===2 && preview.content===1"}],staticClass:"haggle-collect"},[i("p",{staticClass:"activityName"},[t._v("报名信息")]),t._v(" "),i("p",{staticClass:"font-small t-center mar-t-15",staticStyle:{position:"relative",top:"-10px"}},[t._v("个人信息仅用于活动兑奖，不会公开。")]),t._v(" "),t._l(t.activityFormList,function(e,s){return i("div",{key:"activityFormList1"+s,staticClass:"haggle-input"},[t._v("输入"+t._s(e.name))])}),t._v(" "),i("div",{staticClass:"haggle-button b1"},[t._v("填好了，去砍价")])],2)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.preview.content,expression:"preview.content===2"}],staticClass:"phone-content s2"},[t._m(5),t._v(" "),i("div",{staticClass:"t-time"},[t._v("11:30")]),t._v(" "),i("div",{staticClass:"s3",staticStyle:{"justify-content":"flex-end"}},[i("div",{staticClass:"share-box"},[i("p",[t._v(t._s(t.shareSet.shareTitle))]),t._v(" "),i("div",{staticStyle:{"padding-top":"5px"}},[i("p",{staticClass:"font-small",staticStyle:{float:"left","font-size":"11px",width:"120px"}},[t._v(t._s(t.shareSet.shareDesc))]),t._v(" "),i("img",{staticStyle:{float:"right",width:"60px",height:"60px"},attrs:{src:t.shareSet.thumbnailUrl}})])]),t._v(" "),i("div",{staticClass:"triangle"}),t._v(" "),i("div",{staticStyle:{width:"45px",height:"45px"}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.preview.content,expression:"preview.content===2"}],staticClass:"share-bottom",staticStyle:{position:"absolute",bottom:"0"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.form.skilShow&&1===t.preview.content,expression:"form.skilShow && preview.content===1"}],staticClass:"content-foot"},[t._v("技术支持：必火互动")])]),t._v(" "),i("div",{staticClass:"phone-footer"})]),t._v(" "),i("div",{staticClass:"editor"},[i("div",{staticClass:"editor-head"},[i("el-button",{class:{"bt-active":!t.editorType},attrs:{type:"text"},on:{click:function(e){t.editorShow(!1)}}},[t._v("基本设置")]),t._v(" "),i("span",{staticClass:"mar-10"},[t._v("|")]),t._v(" "),i("el-button",{class:{"bt-active":t.editorType},attrs:{type:"text"},on:{click:function(e){t.editorShow(!0)}}},[t._v("更多设置")])],1),t._v(" "),i("hr",{staticStyle:{"margin-bottom":"30px"}}),t._v(" "),i("div",{staticClass:"editor-main"},[i("el-form",{attrs:{size:"medium","label-width":"90px"}},[i("el-form-item",{attrs:{label:"*活动名称："}},[i("el-input",{staticStyle:{width:"480px"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.form.activityName,callback:function(e){t.$set(t.form,"activityName",e)},expression:"form.activityName"}},[i("i",{staticClass:"pointer el-input__icon ",attrs:{slot:"suffix"},slot:"suffix"},[i("img",{staticStyle:{position:"relative",top:"-10px",left:"-8px"},attrs:{src:"static/imgs/manage/editor/huan.png"},on:{click:function(e){t.activityNameListShow=!0}}})])])],1),t._v(" "),i("el-dialog",{attrs:{title:"你可以使用这些标题",visible:t.activityNameListShow,center:""},on:{"update:visible":function(e){t.activityNameListShow=e}}},[i("div",[i("ul",{staticClass:"activityNameList"},t._l(t.activityNameList.arr,function(e,s){return i("li",{staticClass:"pointer",on:{click:function(e){t.actNameChange(e,s)}}},[t._v("\n                    "+t._s(s+1)+"、"+t._s(e)+"\n                  ")])}))]),t._v(" "),i("div",{staticClass:"solid"}),t._v(" "),i("div",{staticStyle:{"margin-top":"10px",display:"flex","justify-content":"flex-end"}},[i("el-button",{on:{click:function(e){t.hideActNameList(!0)}}},[t._v("确定")]),t._v(" "),i("el-button",{on:{click:function(e){t.hideActNameList(!1)}}},[t._v(" 取消")])],1)]),t._v(" "),i("el-form-item",{attrs:{label:"*活动时间："}},[i("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"datetime",placeholder:"选择日期"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.form.beginTime,callback:function(e){t.$set(t.form,"beginTime",e)},expression:"form.beginTime"}}),t._v(" "),i("span",{staticClass:"mar-10"},[t._v("至")]),t._v(" "),i("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"datetime",placeholder:"选择日期"},on:{change:t.dateCalculate,focus:function(e){t.phoneJump(1)}},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"活动主图："}},[i("el-radio-group",{model:{value:t.activityImgShow,callback:function(e){t.activityImgShow=e},expression:"activityImgShow"}},[i("el-radio",{attrs:{label:1},on:{change:function(e){t.phoneJump(1)}}},[t._v("默认")]),t._v(" "),i("el-radio",{attrs:{label:2},on:{change:function(e){t.phoneJump(1)}}},[t._v("更换")])],1),t._v(" "),2==t.activityImgShow?i("div",{staticClass:"activity-img"},[i("div",{staticClass:"img-content"},t._l(t.imgContent.arr,function(e,s){return i("img",{key:"imgContent"+s,attrs:{src:e},on:{click:function(i){t.mainImgChange(e)}}})})),t._v(" "),i("div",{staticStyle:{display:"flex","margin-top":"15px"}},[i("label",{staticClass:"label-button",attrs:{for:"imgFile"}},[t._v("上传")]),t._v(" "),i("span",{staticClass:"font-small mar-10"},[t._v("建议尺寸：750*500.jpg/.pmg/.gif,"),i("br"),t._v("不超过1M，最多上传5张轮显")]),t._v(" "),i("input",{staticStyle:{visibility:"hidden",width:"50px"},attrs:{id:"imgFile",type:"file"},on:{change:function(e){t.imgUpload(e,"acticity_subject")}}})]),t._v(" "),i("div",{staticClass:"img-button"},[i("div",{staticClass:"btn btn-left",on:{click:function(e){t.imgToggle(0)}}}),t._v(" "),i("div",{staticClass:"btn btn-right",on:{click:function(e){t.imgToggle(1)}}})])]):t._e()],1),t._v(" "),i("el-form-item",{attrs:{label:"*商品数量："}},[i("el-radio-group",{model:{value:t.limitShopCount,callback:function(e){t.limitShopCount=e},expression:"limitShopCount"}},[i("el-radio",{attrs:{label:!1},on:{change:function(e){t.phoneJump(1)}}},[t._v("不限")]),t._v(" "),i("span",{staticClass:"fu"},[t._v("付")]),t._v(" "),i("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:!0},on:{change:function(e){t.phoneJump(1)}}},[t._v("限制")]),t._v(" "),i("el-input",{staticClass:"mar-10",staticStyle:{width:"124px"},attrs:{placeholder:"份"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.form.goodsCount,callback:function(e){t.$set(t.form,"goodsCount",e)},expression:"form.goodsCount"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"*砍价金额："}},[i("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"原价：999",disabled:1===t.form.status},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.activityHaggle.formalPrice,callback:function(e){t.$set(t.activityHaggle,"formalPrice",e)},expression:"activityHaggle.formalPrice"}}),t._v(" "),i("span",{staticClass:"mar-10"},[t._v("砍至")]),t._v(" "),i("el-input",{staticStyle:{width:"100px"},attrs:{disabled:1===t.form.status,placeholder:"低价：0"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.activityHaggle.afterPrice,callback:function(e){t.$set(t.activityHaggle,"afterPrice",e)},expression:"activityHaggle.afterPrice"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"砍价设置："}},[i("span",[t._v("报名邀请")]),t._v(" "),i("el-input",{staticClass:"mar-10",staticStyle:{width:"60px"},attrs:{placeholder:"0人"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.activityHaggle.limitPerson,callback:function(e){t.$set(t.activityHaggle,"limitPerson",e)},expression:"activityHaggle.limitPerson"}}),t._v(" "),i("span",[t._v("帮忙可砍至低价。")]),t._v(" "),i("span",{staticClass:"font-small"},[t._v("(参与者每次砍价数额将随机的产生)")])],1),t._v(" "),i("el-form-item",{attrs:{label:"重复砍价："}},[t._v("\n              报名者每隔\n              "),i("el-input",{staticClass:"mar-10",staticStyle:{width:"60px"},attrs:{disabled:1===t.form.status,placeholder:"24"},on:{focus:function(e){t.phoneJump(1)}},model:{value:t.activityHaggle.reHaggleHour,callback:function(e){t.$set(t.activityHaggle,"reHaggleHour",e)},expression:"activityHaggle.reHaggleHour"}}),t._v("\n              小时可以再次给自己砍价\n            ")],1),t._v(" "),i("div",{staticClass:"dashed"}),t._v(" "),i("el-form-item",{attrs:{label:"*活动描述："}},[i("quill-editor",{ref:"newEditor",staticStyle:{height:"190px"},attrs:{content:t.content,options:t.editorOption},on:{change:function(e){t.onActDescribeChange(e)},focus:function(e){t.phoneJump(2)}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-top":"80px"},attrs:{label:"更多惊喜："}},[i("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"190px"},attrs:{options:t.editorOption},on:{change:function(e){t.onSurprisedChange(e)},focus:function(e){t.phoneJump(2)}},model:{value:t.form.surprise,callback:function(e){t.$set(t.form,"surprise",e)},expression:"form.surprise"}})],1),t._v(" "),i("div",{staticClass:"dashed",staticStyle:{"margin-top":"86px"}}),t._v(" "),i("el-form-item",{attrs:{label:"活动分享："}},[i("el-checkbox",{on:{change:function(e){t.phoneJump(2)}},model:{value:t.form.share,callback:function(e){t.$set(t.form,"share",e)},expression:"form.share"}}),t._v(" "),i("span",[t._v("勾选表示同意将活动公开分享到活动商城")])],1),t._v(" "),i("el-form-item",{attrs:{label:"*弹窗设置："}},[i("el-input",{attrs:{rows:6,type:"textarea"},on:{focus:function(e){t.phoneJump(2)}},model:{value:t.form.activityTips,callback:function(e){t.$set(t.form,"activityTips",e)},expression:"form.activityTips"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"活动规则："}},[i("el-input",{attrs:{rows:6,type:"textarea"},on:{focus:function(e){t.phoneJump(2)}},model:{value:t.form.rule,callback:function(e){t.$set(t.form,"rule",e)},expression:"form.rule"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"兑奖信息："}},[i("div",[i("el-radio"),t._v("\n                线下兑奖\n              ")],1),t._v(" "),i("el-input",{attrs:{rows:5,type:"textarea"},model:{value:t.form.awardWays,callback:function(e){t.$set(t.form,"awardWays",e)},expression:"form.awardWays"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"背景音乐："}},[i("span",{staticStyle:{"margin-left":"10px"}},[t._v("默认背景音乐.mp3")]),t._v(" "),i("img",{staticStyle:{padding:"5px",cursor:"pointer"},attrs:{src:"static/imgs/manage/editor/play.png"},on:{click:t.musicPlay}}),t._v(" "),i("el-switch",{staticStyle:{float:"left","margin-top":"10px"},attrs:{"active-color":"#FC4A46","inactive-color":"#E6E6E6"},model:{value:t.form.isPlay,callback:function(e){t.$set(t.form,"isPlay",e)},expression:"form.isPlay"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.form.isPlay,expression:"form.isPlay"}],staticClass:"music-box"},[i("div",[i("el-input",{staticStyle:{width:"220px",margin:"20px 0","font-size":"12px"},attrs:{disabled:!0},model:{value:t.musicName,callback:function(e){t.musicName=e},expression:"musicName"}}),t._v(" "),i("label",{staticClass:"label-button",attrs:{for:"musicFile"}},[t._v("上传")]),t._v(" "),i("p",{staticClass:"font-small"},[t._v("提示：请上传mp3格式的音乐，2M以内")]),t._v(" "),i("input",{staticStyle:{visibility:"hidden"},attrs:{id:"musicFile",type:"file"},on:{change:function(e){t.musicUpload(e)}}})],1)])],1)],1)],1),t._v(" "),i("div",{staticClass:"dashed"}),t._v(" "),i("div",{staticClass:"editor-more"},[i("div",{staticClass:"editor-more-content"},[i("div",{staticClass:"more-head"},[i("ul",[i("li",[i("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"collect",params:{id:t.userActivityId}}}},[t._v("客户信息收集")])],1),t._v(" "),i("li",[i("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"sponsor",params:{id:t.userActivityId}}}},[t._v("主办方")])],1),t._v(" "),i("li",[i("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"share",params:{id:t.userActivityId}}}},[t._v("分享设置")])],1)])]),t._v(" "),i("router-view",{attrs:{activityFormList:t.activityFormList,industry:t.industry,shareSet:t.shareSet,activityShopList:t.activityShopList,preview:t.preview,userDefinedList:t.userDefinedList,phoneMain:t.phoneMain},on:{sponsorChange:t.sponsorChange}})],1)])])])]),t._v(" "),t.sourcesShow?i("dialog-sources",{attrs:{actid:t.userActivityId},on:{close:t.closeSources}}):t._e(),t._v(" "),i("div",{staticClass:"footer"},[i("div",{staticClass:"footer-main"},[i("el-button",{on:{click:t.publish}},[t._v("预览发布")]),t._v(" "),i("el-button",{on:{click:t.save}},[t._v("保存")])],1)])],1)},p=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("支持人数：\n                      "),i("span",[t._v("0")]),t._v("人")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t3"},[i("img",{attrs:{src:"static/imgs/manage/editor/t3.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t5"},[i("div",{staticClass:"haggle-button"},[t._v("我要参加")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t6"},[i("img",{attrs:{src:"static/imgs/manage/editor/t6.png"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"s3"},[i("div",{staticStyle:{width:"45px",height:"45px"}}),t._v(" "),i("div",{staticClass:"triangle"}),t._v(" "),i("div",{staticClass:"share-box"},[t._v("\n                嗨，老铁\n              ")])])}],m={render:d,staticRenderFns:p},h=m,f=i("Z0/y"),g=s,_=f(v,h,!1,g,"data-v-7f6f3ea3",null);e.default=_.exports},TseZ:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var s=i("2sCs"),a=i.n(s),n=i("WZtK");n.a.init(a.a);var o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.data,s=e.methods,o=void 0===s?"get":s,r=e.baseURL,c=e.ContentType;return a.a.request({url:t,headers:{"Content-Type":c||"application/json"},method:o.toLowerCase(),baseURL:r||""+n.b.url,params:"get"===o.toLowerCase()?i:null,data:"get"!==o.toLowerCase()?i:null,timeout:5e3,responseType:"json",validateStatus:function(t){return t>=200&&t<300}})}},TtmE:function(t,e,i){"use strict";function s(t){i("FHze")}var a={name:"VDialog",props:{showClose:{type:Boolean,default:!0},title:{type:String,default:""}},methods:{closeDialog:function(){this.$emit("close")}}},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-dialog"},[i("div",{staticClass:"v-dialog_bg"}),t._v(" "),i("div",{staticClass:"v-dialog_con"},[t.showClose?i("div",{staticClass:"v-dialog_close v-icon",on:{click:t.closeDialog}},[t._v("")]):t._e(),t._v(" "),i("div",{staticClass:"v-dialog_hd"},[t.title?i("span",{staticClass:"v-dialog_title"},[t._v(t._s(t.title))]):t._e()]),t._v(" "),i("div",{staticClass:"v-dialog_bd"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"v-dialog_ft"},[t._t("dialog_ft")],2)])])},o=[],r={render:n,staticRenderFns:o},c=r,l=i("Z0/y"),u=s,v=l(a,c,!1,u,"data-v-0ffe1764",null);e.a=v.exports},WZtK:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"a",function(){return r});var s=i("rVsN"),a=i.n(s),n=i("UM93"),o=(i.n(n),{development:{url:"http://1655w941f1.51mypc.cn"},production:{url:""}}.production||{url:"http://1655w941f1.51mypc.cn"}),r={init:function(t){t.defaults.baseURL=""+o.url,t.interceptors.request.use(function(t){return localStorage.BHTOKEN&&(t.headers["pi-businesstkn"]=localStorage.BHTOKEN),t},function(t){return a.a.reject(t)}),t.interceptors.response.use(function(t){var e=t.data||t;return 403===e.code&&(localStorage.BHTOKEN="",location.href="index.html"),!1===e.suc&&e.msg?(Object(n.Message)({message:e.msg,type:"warning",customClass:"message-tip",duration:3e3}),!1):e},function(t){return a.a.reject(t)})}}},XvEg:function(t,e,i){"use strict";var s=i("TseZ");e.a={getTemplates:function(t){return Object(s.a)("/pi/mod/main/"+t.size+"/"+t.page,t)},create:function(t){return Object(s.a)("/pi/bizactivity/create/"+t.id,t)},recommend:function(t){return Object(s.a)("/pi/bizactivity/indexContent",t)},myActs:function(t){return Object(s.a)("/pi/bizactivity/mine",t)},edit:function(t){return s.a.post("/pi/bizactivity/update/"+t.id,t)},getDetail:function(t){return Object(s.a)("/pi/bizactivity/get/"+t.id,t)},getList:function(t){return Object(s.a)("/pi/bizactivity/mine",t)},haggle:function(t){return Object(s.a)("/pi/bizactivity/haggle/detail",t)},save:function(t){return Object(s.a)("/pi/bizactivity/haggle/save",t)},publish:function(t){return Object(s.a)("/pi/bizactivity/publish",t)},copy:function(t){return Object(s.a)("/pi/bizactivity/copy",t)},delete:function(t){return Object(s.a)("/pi/bizactivity/delete",t)}}},dMbk:function(t,e){},lMgl:function(t,e){},n95b:function(t,e,i){"use strict";var s=i("3cXf"),a=i.n(s),n=i("hRKE"),o=i.n(n);e.a={addClass:function(t,e){var i=t.getAttribute("class")||"";i=i.concat(" "+e),t.setAttribute("class",i)},removeClass:function(t,e){var i=t.getAttribute("class");i=i.replace(e,""),t.setAttribute("class",i)},checkPhone:function(t){return/^1(3|4|5|7|8)\d{9}$/.test(t)},checkName:function(t){return/^[a-zA-Z0-9_\u4e00-\u9fa5]{6,20}$/.test(t)},checkPsw:function(t){return/^([a-zA-Z0-9]){6,20}$/.test(t)},checkEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)},formatDate:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},DateCalculate:function(t,e){var i=e-t;i/=1e3;var s=parseInt(i/86400);i-=86400*s;var a=parseInt(i/3600);i-=3600*a;var n=parseInt(i/60);return i-=60*n,{day:s,hours:a,minutes:n,t:i}},localData:{set:function(t,e){var i=null;if("object"===(void 0===e?"undefined":o()(e)))try{i=a()(e)}catch(t){console.log(i)}else"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e||(i=e);localStorage.setItem(t,i)},get:function(t){var e=localStorage.getItem(t);if("string"==typeof e)try{return e.search(/^\{/)>-1||e.search(/^\[/)>-1?JSON.parse(e):e}catch(t){console.log(e)}},remove:function(t){localStorage.removeItem(t)}},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},parseJson:function(t){if("string"!=typeof t){if("object"==(void 0===t?"undefined":o()(t)))return t;throw new Error("params is not json type")}try{return t.search(/^\{/)>-1||t.search(/^\[/)>-1?JSON.parse(t):t}catch(t){throw new Error("Cannot be converted to json format.")}}}},qIk4:function(t,e){},rA5e:function(t,e,i){"use strict";var s=i("TseZ");e.a={self:function(t){return Object(s.a)("/pi/bizuser/self",t)},isLogin:function(t){return Object(s.a)("/pi/bizuser/login/state",t)},update:function(t){return Object(s.a)("/pi/bizuser/update",t)},improve:function(t){return Object(s.a)("/pi/bizuser/furnish",t)},list:function(t){return Object(s.a)("/pi/bizorder/list",t)},initIndex:function(t){return Object(s.a)("/pi/bizactivity/initIndex",t)},indexTags:function(t){return Object(s.a)("/pi/bizactivity/indexTags",t)},query:function(t){return Object(s.a)("/pi/business/channel/query",t)},channelDelete:function(t){return Object(s.a)("/pi/business/channel/delete",t)},channelCreate:function(t){return Object(s.a)("/pi/business/channel/create",t)},channelEdit:function(t){return Object(s.a)("/pi/business/channel/edit",t)},qrcode:function(t){return Object(s.a)("/downloadImg/qrcode/normal",t,"get","http://1655w941f1.51mypc.cn:18888")},industry:function(t){return Object(s.a)("/pi/common/industry",t)},childIndustry:function(t){return Object(s.a)("pi/bizactivity/childTags",t)},industryInfo:function(t){return Object(s.a)("/pi/bizuser/industry/info",t)},resetPsw:function(t){return Object(s.a)("/pi/bizuser/changepwd",t)},resetGetCode:function(t){return Object(s.a)("/pi/common/send/sms/identity",t)},mine:function(t){return Object(s.a)("pi/bizactivity/mine",t)}}},"sZ/g":function(t,e,i){"use strict";var s=i("TseZ");e.a={imgUpload:function(t){return Object(s.a)("/file/upload/uploadImg",t)},musicUpload:function(t){return Object(s.a)("/file/upload/uploadFile",t)}}}});
//# sourceMappingURL=1.3d86e12fae363d1880e9.js.map