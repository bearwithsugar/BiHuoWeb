webpackJsonp([7],{"183Z":function(t,e,a){"use strict";function r(t){a("mIsa")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("rA5e"),s=a("n95b"),i={data:function(){return{orderFilter:{type:"",state:"",name:""},index:0,listData:null,status:{img:{1:"static/imgs/manage/complete@2x.png",2:"static/imgs/manage/complete2@2x.png",0:"static/imgs/manage/complete3@2x.png","-1":"static/imgs/manage/complete1@2x.png"},payType:{1:"余额支付",2:"支付宝支付",3:"其他"},describe:{1:"订单已完成",2:"余额不足",0:"等待支付","-1":"已取消"},button:{1:"","-1":"再次购买",0:"确认支付",2:"去充值"}},tableData:[],currentOrder:{},currentPage:1,orderDetailDialog:!1,pageSize:10}},methods:{handleSizeChange:function(t){var e=this;console.log("每页 "+t+" 条");var a={pageSize:t};n.a.list({data:a}).then(function(t){t.suc&&200===t.code&&(console.log("page的值:"+t.rs.page),e.listData=t.rs,e.tableData=t.rs.pageList,e.dataHandle(e.tableData))})},handleCurrentChange:function(t){var e=this;console.log("当前页: "+t);var a={page:t};n.a.list({data:a}).then(function(t){t.suc&&200===t.code&&(console.log("page的值:"+t.rs.page),e.listData=t.rs,e.tableData=t.rs.pageList,e.dataHandle(e.tableData))})},searchList:function(){var t=this,e=this,a={keyword:e.orderFilter.name};n.a.list({data:a}).then(function(e){console.log(e),e.suc&&200===e.code&&(t.listData=e.rs,t.tableData=e.rs.pageList,t.dataHandle(t.tableData))})},showOrderDetail:function(t){this.orderDetailDialog=!0,this.currentOrder=this.tableData[t]},dataHandle:function(t){var e=this;t.forEach(function(t){t.statusName=e.status.describe[t.status],t.payTypeName=e.status.payType[t.payType],t.createTime=s.a.formatDate(new Date(t.createTime)),t.payTime=s.a.formatDate(new Date(t.payTime))})}},created:function(){var t=this;console.log("开始"),n.a.list().then(function(e){e.suc&&200===e.code&&(console.log(e.rs.page),t.listData=e.rs,t.tableData=e.rs.pageList,console.log(e.rs))})},mounted:function(){}},l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-wrap",staticStyle:{border:"1px #D9D9D9 solid","margin-top":"29px","border-radius":"6px","background-color":"#FFFFFF"}},[a("div",{staticClass:"order-hd"},[a("div",{staticClass:"order-hd_lt"},[a("div",{staticClass:"order-filter"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.orderFilter}},[a("el-form-item",{attrs:{label:"筛选条件"}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:t.orderFilter.state,callback:function(e){t.$set(t.orderFilter,"state",e)},expression:"orderFilter.state"}},[a("el-option",{attrs:{label:"下单",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"支付成功",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"余额不足",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"订单取消",value:"-1"}})],1)],1)],1)],1)]),t._v(" "),a("div",{staticClass:"order-hd_rt"},[a("div",{staticClass:"order-search"},[a("el-input",{attrs:{placeholder:"搜索订单"},model:{value:t.orderFilter.name,callback:function(e){t.$set(t.orderFilter,"name",e)},expression:"orderFilter.name"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},on:{click:t.searchList},slot:"suffix"})])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-left":"10px"}},[t._v("去充值")])],1)])]),t._v(" "),a("div",{staticClass:"order-bd"},[a("div",{staticClass:"order-table"},[a("el-table",{staticStyle:{width:"97%","margin-left":"30px"},attrs:{data:t.tableData,"empty-text":"老铁，这里还什么都没有",border:""}},[a("div",{attrs:{slot:"empty"},slot:"empty"},[a("img",{staticStyle:{margin:"15px"},attrs:{src:"static/imgs/manage/null2x.png"}}),t._v(" "),a("div",{staticStyle:{margin:"15px"}},[t._v("老铁，这里还什么都没有~")])]),t._v(" "),a("el-table-column",{staticStyle:{width:"10%"},attrs:{prop:"orderNo",label:"订单号",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"18%"},attrs:{prop:"title",label:"产品",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"24%"},attrs:{prop:"createTime",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"18%"},attrs:{prop:"price",label:"金额",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"10%"},attrs:{prop:"payTypeName",label:"支付方式",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"10%"},attrs:{prop:"statusName",label:"订单状态",align:"center"}}),t._v(" "),a("el-table-column",{staticStyle:{width:"10%"},attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.tableData[e.$index].status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showOrderDetail(e.$index,t.tableData)}}},[t._v("\n                查看\n              ")]):t._e(),t._v(" "),0==t.tableData[e.$index].status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showOrderDetail(e.$index,t.tableData)}}},[t._v("\n                支付\n              ")]):t._e(),t._v(" "),2==t.tableData[e.$index].status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showOrderDetail(e.$index,t.tableData)}}},[t._v("\n                充值\n              ")]):t._e(),t._v(" "),-1==t.tableData[e.$index].status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showOrderDetail(e.$index,t.tableData)}}},[t._v("\n                再次购买\n              ")]):t._e(),t._v(" "),0==t.tableData[e.$index].status||2==t.tableData[e.$index].status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.showOrderDetail(e.$index,t.tableData)}}},[t._v("\n                取消\n              ")]):t._e()]}}])})],1)],1)]),t._v(" "),a("div",{staticClass:"order-ft"},[a("div",{staticClass:"order-table_pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.listData.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.orderDetailDialog,expression:"orderDetailDialog"}],staticClass:"order-detail"},[a("el-dialog",{attrs:{title:"订单详情",visible:t.orderDetailDialog,center:""},on:{"update:visible":function(e){t.orderDetailDialog=e}}},[a("div",{staticClass:"order-baseInfo"},[a("el-form",{attrs:{"label-width":"100px",model:t.list}},[a("el-form-item",{attrs:{label:"订单编号：",prop:"orderNo"}},[a("div",{staticClass:"pos-l"},[a("div",{staticClass:"baseInfo-title"},[t._v(t._s(t.currentOrder.orderNo))]),t._v(" "),a("div",{staticClass:"baseInfo-text"},[a("span",[t._v("创建时间："+t._s(t.currentOrder.createTime))]),t._v(" "),a("span",[t._v("|")]),t._v(" "),a("span",[t._v("支付时间："+t._s(t.currentOrder.payTime))])])])]),t._v(" "),a("el-form-item",{attrs:{label:"订单状态：","label-position":"left",prop:"status"}},[a("div",{staticClass:"pos-l"},[a("img",{attrs:{src:t.status.img[t.currentOrder.status]}}),t._v(" "),a("span",{staticClass:"describe"},[t._v(t._s(t.status.describe[t.currentOrder.status]))])])]),t._v(" "),a("el-form-item",{attrs:{label:"支付方式：",prop:"payType"}},[a("div",{staticClass:"pos-l"},[a("span",[t._v(t._s(t.currentOrder.payType))])])])],1)],1),t._v(" "),a("el-table",{attrs:{data:[t.currentOrder],border:""}},[a("el-table-column",{attrs:{property:"productName",prop:"title",label:"名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{property:"money",prop:"price",label:"价格",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"amount",prop:"count",label:"数量",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"expirationTime",prop:"payDataExpire",label:"到期时间",width:"200"}})],1),t._v(" "),1!=t.currentOrder.status?a("div",{staticClass:"order-handle"},[a("el-button",[t._v(t._s(t.status.button[t.currentOrder.status]))]),t._v(" "),a("el-button",{on:{click:function(e){t.orderDetailDialog=!t.orderDetailDialog}}},[t._v("取消")])],1):t._e()],1)],1)])},o=[],c={render:l,staticRenderFns:o},u=c,d=a("Z0/y"),p=r,b=d(i,u,!1,p,"data-v-7c9d21e7",null);e.default=b.exports},TseZ:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var r=a("2sCs"),n=a.n(r),s=a("WZtK");s.a.init(n.a);var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.data,r=e.methods,i=void 0===r?"get":r,l=e.baseURL,o=e.ContentType;return n.a.request({url:t,headers:{"Content-Type":o||"application/json"},method:i.toLowerCase(),baseURL:l||""+s.b.url,params:"get"===i.toLowerCase()?a:null,data:"get"!==i.toLowerCase()?a:null,timeout:5e3,responseType:"json",validateStatus:function(t){return t>=200&&t<300}})}},WZtK:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return l});var r=a("rVsN"),n=a.n(r),s=a("UM93"),i=(a.n(s),{development:{url:"http://1655w941f1.51mypc.cn"},production:{url:""}}.production||{url:"http://1655w941f1.51mypc.cn"}),l={init:function(t){t.defaults.baseURL=""+i.url,t.interceptors.request.use(function(t){return localStorage.BHTOKEN&&(t.headers["pi-businesstkn"]=localStorage.BHTOKEN),t},function(t){return n.a.reject(t)}),t.interceptors.response.use(function(t){var e=t.data||t;return 403===e.code&&(localStorage.BHTOKEN="",location.href="index.html"),!1===e.suc&&e.msg?(Object(s.Message)({message:e.msg,type:"warning",customClass:"message-tip",duration:3e3}),!1):e},function(t){return n.a.reject(t)})}}},mIsa:function(t,e){},n95b:function(t,e,a){"use strict";var r=a("3cXf"),n=a.n(r),s=a("hRKE"),i=a.n(s);e.a={addClass:function(t,e){var a=t.getAttribute("class")||"";a=a.concat(" "+e),t.setAttribute("class",a)},removeClass:function(t,e){var a=t.getAttribute("class");a=a.replace(e,""),t.setAttribute("class",a)},checkPhone:function(t){return/^1(3|4|5|7|8)\d{9}$/.test(t)},checkName:function(t){return/^[a-zA-Z0-9_\u4e00-\u9fa5]{6,20}$/.test(t)},checkPsw:function(t){return/^([a-zA-Z0-9]){6,20}$/.test(t)},checkEmail:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)},formatDate:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},DateCalculate:function(t,e){var a=e-t;a/=1e3;var r=parseInt(a/86400);a-=86400*r;var n=parseInt(a/3600);a-=3600*n;var s=parseInt(a/60);return a-=60*s,{day:r,hours:n,minutes:s,t:a}},localData:{set:function(t,e){var a=null;if("object"===(void 0===e?"undefined":i()(e)))try{a=n()(e)}catch(t){console.log(a)}else"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e||(a=e);localStorage.setItem(t,a)},get:function(t){var e=localStorage.getItem(t);if("string"==typeof e)try{return e.search(/^\{/)>-1||e.search(/^\[/)>-1?JSON.parse(e):e}catch(t){console.log(e)}},remove:function(t){localStorage.removeItem(t)}},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},parseJson:function(t){if("string"!=typeof t){if("object"==(void 0===t?"undefined":i()(t)))return t;throw new Error("params is not json type")}try{return t.search(/^\{/)>-1||t.search(/^\[/)>-1?JSON.parse(t):t}catch(t){throw new Error("Cannot be converted to json format.")}}}},rA5e:function(t,e,a){"use strict";var r=a("TseZ");e.a={self:function(t){return Object(r.a)("/pi/bizuser/self",t)},isLogin:function(t){return Object(r.a)("/pi/bizuser/login/state",t)},update:function(t){return Object(r.a)("/pi/bizuser/update",t)},improve:function(t){return Object(r.a)("/pi/bizuser/furnish",t)},list:function(t){return Object(r.a)("/pi/bizorder/list",t)},initIndex:function(t){return Object(r.a)("/pi/bizactivity/initIndex",t)},indexTags:function(t){return Object(r.a)("/pi/bizactivity/indexTags",t)},query:function(t){return Object(r.a)("/pi/business/channel/query",t)},channelDelete:function(t){return Object(r.a)("/pi/business/channel/delete",t)},channelCreate:function(t){return Object(r.a)("/pi/business/channel/create",t)},channelEdit:function(t){return Object(r.a)("/pi/business/channel/edit",t)},qrcode:function(t){return Object(r.a)("/downloadImg/qrcode/normal",t,"get","http://1655w941f1.51mypc.cn:18888")},industry:function(t){return Object(r.a)("/pi/common/industry",t)},childIndustry:function(t){return Object(r.a)("pi/bizactivity/childTags",t)},industryInfo:function(t){return Object(r.a)("/pi/bizuser/industry/info",t)},resetPsw:function(t){return Object(r.a)("/pi/bizuser/changepwd",t)},resetGetCode:function(t){return Object(r.a)("/pi/common/send/sms/identity",t)},mine:function(t){return Object(r.a)("pi/bizactivity/mine",t)}}}});
//# sourceMappingURL=7.45319eeb231aa36c0bef.js.map