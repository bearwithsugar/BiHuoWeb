webpackJsonp([10],{TseZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("2sCs"),s=n.n(a),i=n("WZtK");i.a.init(s.a);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,a=t.methods,r=void 0===a?"get":a,o=t.baseURL,u=t.ContentType;return s.a.request({url:e,headers:{"Content-Type":u||"application/json"},method:r.toLowerCase(),baseURL:o||""+i.b.url,params:"get"===r.toLowerCase()?n:null,data:"get"!==r.toLowerCase()?n:null,timeout:5e3,responseType:"json",validateStatus:function(e){return e>=200&&e<300}})}},WUF9:function(e,t){},WZtK:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("rVsN"),s=n.n(a),i=n("UM93"),r=(n.n(i),{development:{url:"http://1655w941f1.51mypc.cn"},production:{url:""}}.production||{url:"http://1655w941f1.51mypc.cn"}),o={init:function(e){e.defaults.baseURL=""+r.url,e.interceptors.request.use(function(e){return localStorage.BHTOKEN&&(e.headers["pi-businesstkn"]=localStorage.BHTOKEN),e},function(e){return s.a.reject(e)}),e.interceptors.response.use(function(e){var t=e.data||e;return 403===t.code&&(localStorage.BHTOKEN="",location.href="index.html"),!1===t.suc&&t.msg?(Object(i.Message)({message:t.msg,type:"warning",customClass:"message-tip",duration:3e3}),!1):t},function(e){return s.a.reject(e)})}}},mz8W:function(e,t,n){"use strict";function a(e){n("WUF9")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("4YfN"),i=n.n(s),r=n("rA5e"),o=n("9rMa"),u={data:function(){return{labelWidth:"100px",editState:{nameState:!0,phoneState:!0},user:{userName:"悟空编程",phone:""},rules:{name:[{type:"string",min:0,max:20,message:"最长20个汉字",trigger:"change"}],phone:[{pattern:/^((13[0-9]{1})|(14[0-9]{1})|(15[0-9]{1})|(17[0-9]{1})|(18[0-9]{1}))+\d{8}$/,message:"请填写正确的手机格式",trigger:"change"}]}}},computed:i()({},Object(o.b)("user",{userInfo:"userInfo"})),mounted:function(){var e=this;this.userInfo.id||r.a.self().then(function(t){console.log(t),console.log(t.rs.userName),e.$store.commit("user/UPDATE_USERINFO",t.rs)})},methods:{edituserName:function(){var e=this;this.editState.nameState=!0,r.a.update({data:{userName:this.userInfo.userName}}).then(function(t){t.suc&&(e.$message({message:"修改成功",type:"success"}),e.$store.commit("user/UPDATE_USERINFO",{userName:e.userInfo.userName}))})},edituserPhone:function(){var e=this;this.editState.phoneState=!0,r.a.improve({data:{phone:this.userInfo.phone}}).then(function(t){t.suc&&(e.$message({message:"修改成功",type:"success"}),e.$store.commit("user/UPDATE_USERINFO",{phone:e.userInfo.phone}))})}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[e._m(0),e._v(" "),n("div",{staticClass:"detail-box user-manage-wrap"},[n("el-form",{attrs:{model:e.userInfo,rules:e.rules,"label-position":"left"}},[n("el-form-item",{attrs:{label:"用户名称","label-width":e.labelWidth,prop:"name"}},[n("el-col",{attrs:{span:16}},[n("el-input",{class:{editState:0==e.editState.nameState},attrs:{placeholder:e.editState.nameState?"未填写":"最多20字",disabled:e.editState.nameState},model:{value:e.userInfo.userName,callback:function(t){e.$set(e.userInfo,"userName",t)},expression:"userInfo.userName"}}),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editState.nameState,expression:"editState.nameState"}],attrs:{type:"text"},on:{click:function(t){t.preventDefault(),e.editState.nameState=!1}}},[e._v("修改")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editState.nameState,expression:"!editState.nameState"}],attrs:{size:"mini"},on:{click:function(t){return t.preventDefault(),e.edituserName(t)}}},[e._v("确定")])],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"el-form_item-tip"},[e._v("用户名称将用于发送分享时使用")])])],1)],1),e._v(" "),n("el-form",{attrs:{model:e.userInfo,rules:e.rules,"label-position":"left"}},[n("el-form-item",{attrs:{label:"绑定手机","label-width":e.labelWidth,prop:"phone"}},[n("el-col",{attrs:{span:16}},[n("el-input",{class:{editState:0==e.editState.phoneState},attrs:{placeholder:e.editState.phoneState?"未填写":"请输入手机号码",disabled:e.editState.phoneState},model:{value:e.userInfo.phone,callback:function(t){e.$set(e.userInfo,"phone",t)},expression:"userInfo.phone"}}),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.editState.phoneState,expression:"editState.phoneState"}],attrs:{type:"text"},on:{click:function(t){t.preventDefault(),e.editState.phoneState=!1}}},[e._v("去绑定")]),e._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editState.phoneState,expression:"!editState.phoneState"}],attrs:{size:"mini"},on:{click:function(t){return t.preventDefault(),e.edituserPhone(t)}}},[e._v("确定")])],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"el-form_item-tip"},[e._v("账户更安全")])])],1)],1),e._v(" "),n("el-form",{attrs:{model:e.userInfo,"label-position":"left"}},[n("el-form-item",{attrs:{label:"身份标签","label-width":e.labelWidth,prop:"phone"}},[n("el-col",{attrs:{span:16}},[n("div",{staticClass:"item-val"},[n("div",{staticClass:"button-box"},[n("button",{staticClass:"free",attrs:{type:"button"}},[e._v("免费体验版")]),e._v(" "),n("button",{staticClass:"upgrade",attrs:{type:"button"}},[e._v("升级")])]),e._v(" "),n("p",{staticClass:"use-time"},[e._v("有效期：2017-06-02 20:41 至 2018-06-02 20:41")]),e._v(" "),n("p",{staticClass:"warn-text"},[e._v("您的试用期还有 7 天，马上升级！")])])]),e._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"el-form_item-tip"},[e._v("升级付费会员享更多特权")])])],1)],1)],1)])},l=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-box"},[n("img",{attrs:{src:"/static/imgs/temp/图层 10@2x.png",alt:""}})])}],p={render:c,staticRenderFns:l},d=p,m=n("Z0/y"),f=a,h=m(u,d,!1,f,null,null);t.default=h.exports},rA5e:function(e,t,n){"use strict";var a=n("TseZ");t.a={self:function(e){return Object(a.a)("/pi/bizuser/self",e)},isLogin:function(e){return Object(a.a)("/pi/bizuser/login/state",e)},update:function(e){return Object(a.a)("/pi/bizuser/update",e)},improve:function(e){return Object(a.a)("/pi/bizuser/furnish",e)},list:function(e){return Object(a.a)("/pi/bizorder/list",e)},initIndex:function(e){return Object(a.a)("/pi/bizactivity/initIndex",e)},indexTags:function(e){return Object(a.a)("/pi/bizactivity/indexTags",e)},query:function(e){return Object(a.a)("/pi/business/channel/query",e)},channelDelete:function(e){return Object(a.a)("/pi/business/channel/delete",e)},channelCreate:function(e){return Object(a.a)("/pi/business/channel/create",e)},channelEdit:function(e){return Object(a.a)("/pi/business/channel/edit",e)},qrcode:function(e){return Object(a.a)("/downloadImg/qrcode/normal",e,"get","http://1655w941f1.51mypc.cn:18888")},industry:function(e){return Object(a.a)("/pi/common/industry",e)},childIndustry:function(e){return Object(a.a)("pi/bizactivity/childTags",e)},industryInfo:function(e){return Object(a.a)("/pi/bizuser/industry/info",e)},resetPsw:function(e){return Object(a.a)("/pi/bizuser/changepwd",e)},resetGetCode:function(e){return Object(a.a)("/pi/common/send/sms/identity",e)},mine:function(e){return Object(a.a)("pi/bizactivity/mine",e)}}}});
//# sourceMappingURL=10.c994f454c6a75be606bf.js.map